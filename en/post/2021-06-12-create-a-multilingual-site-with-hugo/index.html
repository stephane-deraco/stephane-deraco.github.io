<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>How to create a multilingual site with Hugo | Stéphane's Blog</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="With Hugo, we can create a multilingual site.
Configuration We first have to write in the config file what are the supported languages:
config.yaml
languages: en: title: Stéphane's Blog fr: title: Blog de Stéphane We can add a params block for each language to override some specific values depending on the language, for example labels or urls.
Please note that the default language will be the one defined in the defaultContentLanguage parameter."><meta name=generator content="Hugo 0.101.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/ananke/css/main.min.8ca51ad9680f6f5bb4adc9140a88775d0b6638471cd8aa5fc091c9e308bdacdd.css><meta property="og:title" content="How to create a multilingual site with Hugo"><meta property="og:description" content="With Hugo, we can create a multilingual site.
Configuration We first have to write in the config file what are the supported languages:
config.yaml
languages: en: title: Stéphane's Blog fr: title: Blog de Stéphane We can add a params block for each language to override some specific values depending on the language, for example labels or urls.
Please note that the default language will be the one defined in the defaultContentLanguage parameter."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.deraco.fr/en/post/2021-06-12-create-a-multilingual-site-with-hugo/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-06-12T00:00:00+00:00"><meta property="article:modified_time" content="2021-06-12T00:00:00+00:00"><meta property="og:site_name" content="Stéphane's Blog"><meta itemprop=name content="How to create a multilingual site with Hugo"><meta itemprop=description content="With Hugo, we can create a multilingual site.
Configuration We first have to write in the config file what are the supported languages:
config.yaml
languages: en: title: Stéphane's Blog fr: title: Blog de Stéphane We can add a params block for each language to override some specific values depending on the language, for example labels or urls.
Please note that the default language will be the one defined in the defaultContentLanguage parameter."><meta itemprop=datePublished content="2021-06-12T00:00:00+00:00"><meta itemprop=dateModified content="2021-06-12T00:00:00+00:00"><meta itemprop=wordCount content="753"><meta itemprop=keywords content="Hugo,Multilingual,"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to create a multilingual site with Hugo"><meta name=twitter:description content="With Hugo, we can create a multilingual site.
Configuration We first have to write in the config file what are the supported languages:
config.yaml
languages: en: title: Stéphane's Blog fr: title: Blog de Stéphane We can add a params block for each language to override some specific values depending on the language, for example labels or urls.
Please note that the default language will be the one defined in the defaultContentLanguage parameter."></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-dark-gray><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/en/ class="f3 fw2 hover-white no-underline white-90 dib">Stéphane's Blog</a><div class="flex-l items-center"><h4></h4><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/fr/post/2021-06-12-creer-un-site-multilingue-avec-hugo/>fr</a></li></ul><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/en/tags title=Tags>Tags</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/en/about/ title="About page">About</a></li></ul><a href=https://twitter.com/stephane_deraco target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://www.linkedin.com/in/st%C3%A9phane-deraco-964640194/ target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/stephane-deraco target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://blog.deraco.fr/en/index.xml target=_blank class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="RSS link" rel=noopener aria-label="RSS——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw10 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://blog.deraco.fr/en/post/2021-06-12-create-a-multilingual-site-with-hugo/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://blog.deraco.fr/en/post/2021-06-12-create-a-multilingual-site-with-hugo/&text=How%20to%20create%20a%20multilingual%20site%20with%20Hugo" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://blog.deraco.fr/en/post/2021-06-12-create-a-multilingual-site-with-hugo/&title=How%20to%20create%20a%20multilingual%20site%20with%20Hugo" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">How to create a multilingual site with Hugo</h1><time class="f6 mv4 dib tracked" datetime=2021-06-12T00:00:00Z>2021-06-12</time>
<span class="f6 mv4 dib tracked">- 4 minutes read</span>
<span class="f6 mv4 dib tracked">- 753 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>With Hugo, we can create a <a href=https://gohugo.io/content-management/multilingual/>multilingual site</a>.</p><h2 id=configuration>Configuration</h2><p>We first have to write in the config file what are the supported languages:</p><p><em>config.yaml</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>languages</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>en</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>Stéphane&#39;s Blog</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>fr</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>Blog de Stéphane</span>
</span></span></code></pre></div><p>We can add a <code>params</code> block for each language to override some specific values depending on the language, for example labels or urls.</p><p>Please note that the default language will be the one defined in the <code>defaultContentLanguage</code> parameter.</p><p>For the default language, the base address is simply <code>/</code>, whereas for the other languages, the base address is <code>/</code> followed by the language code, for example <code>/en</code>.</p><p>This behaviour can be modified to always have <code>/xx</code>, including the default language, with this parameter: <code>defaultContentLanguageInSubdir: true</code>.</p><h2 id=translation-location>Translation location</h2><p>Hugo can use two different ways to find translated files:</p><ul><li>language code in the file name, for example <code>great-post.en.md</code> and <code>great-post.fr.md</code></li><li>specific folder for each language</li></ul><p>I find that having a dedicated folder for each language is more pleasant, this avoids having multiples files (one per language) in the same folder.</p><p>In order to have one folder per language, we have to set the <code>contentDir</code> parameter in the configuration file, for each language:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>languages</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>en</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>Stéphane&#39;s Blog</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>contentDir</span>: <span style=color:#ae81ff>./content/en/</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>fr</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>Blog de Stéphane</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>contentDir</span>: <span style=color:#ae81ff>./content/fr/</span>
</span></span></code></pre></div><blockquote><p><strong>Warning</strong> : Files have to be in the <code>content/en/post</code> or <code>content/fr/post</code> folder (in this example).
If files are simply in <code>content/en</code>, then they will not be generated.</p></blockquote><h2 id=urls-translation>URLs translation</h2><p>So far, everything works fine :)</p><p>But as Hugo uses file names in order to link the same content but translated, and that this name is in the URL, then by default URLs are not translated.</p><p>For example, if we have the following files : <code>content/en/post/who-am-i.md</code> and <code>content/fr/post/qui-suis-je.md</code>, then Hugo won&rsquo;t know that this is the same content but translated.</p><p>The solution is to add in the header of these files the key <code>translationKey</code> with the same value for the same content but translated.
In our previous example, that means to add the same parameter <code>translationKey: "who-am-i"</code> in both pages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Who am I?&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>date</span>: <span style=color:#e6db74>2021-06-04T23:01:59</span><span style=color:#ae81ff>+02</span>:<span style=color:#ae81ff>00</span>
</span></span><span style=display:flex><span><span style=color:#f92672>draft</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>translationKey</span>: <span style=color:#ae81ff>who-am-i</span>
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><h2 id=html-lang-attribute>HTML <code>lang</code> attribute</h2><p>W3C specification says that the <code>&lt;html></code> tag <a href=https://www.w3.org/International/questions/qa-html-language-declarations>must contains a <code>lang</code> attribute</a>, with the 2-letter language code.</p><p>So we have to remove the default language (<code>languageCode: fr-fr</code>) from the configuration file, and specify in the <code>languages</code> block, for each language, its 2-letter code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>languages</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>en</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>Stéphane&#39;s Blog</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>contentDir</span>: <span style=color:#ae81ff>./content/en/</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>languageCode</span>: <span style=color:#ae81ff>en</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>fr</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>Blog de Stéphane</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>contentDir</span>: <span style=color:#ae81ff>./content/fr/</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>languageCode</span>: <span style=color:#ae81ff>fr</span>
</span></span></code></pre></div><p>With this, the <code>lang</code> attribute will be automatically set to the right value (for example, in an english version of a page):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en&#34;</span>&gt;
</span></span></code></pre></div><h2 id=automatically-redirect-to-the-right-language>Automatically redirect to the right language</h2><p>By default, when we access the site without specifying the language in the URL, we are automatically redirected to the default language (the one set in the configuration by the <code>defaultContentLanguage</code> parameter).</p><p>We could do better, because browsers send a list of supported (or rather preferred) languages.
The idea is to use the browser configuration about languages to automatically go to the content with the right language (if possible).</p><p>This post explains how to do that: <a href=https://nanmu.me/en/posts/2020/hugo-i18n-automatic-language-redirection/>https://nanmu.me/en/posts/2020/hugo-i18n-automatic-language-redirection/</a>.
We just have to add a <code>layouts/alias.html</code> file in which some Javascript code will extract the preferred language sent by the browser, and then redirect if necessary to the right language of the site:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;{{ .Permalink }}&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;canonical&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .Permalink }}&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;robots&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;noindex&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>noscript</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>http-equiv</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;refresh&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0; url={{ .Permalink }}&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>noscript</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>      ;(<span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Only do i18n at root, 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// otherwise, redirect immediately
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (window.<span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>pathname</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;/&#39;</span>) {
</span></span><span style=display:flex><span>          window.<span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#39;{{ .Permalink }}&#39;</span>)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>getFirstBrowserLanguage</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>nav</span> <span style=color:#f92672>=</span> window.<span style=color:#a6e22e>navigator</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>browserLanguagePropertyKeys</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;language&#39;</span>, <span style=color:#e6db74>&#39;browserLanguage&#39;</span>, <span style=color:#e6db74>&#39;systemLanguage&#39;</span>, <span style=color:#e6db74>&#39;userLanguage&#39;</span>],
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>i</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>language</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>if</span> (Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>nav</span>.<span style=color:#a6e22e>languages</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>nav</span>.<span style=color:#a6e22e>languages</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>language</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>nav</span>.<span style=color:#a6e22e>languages</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>language</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>language</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>language</span>
</span></span><span style=display:flex><span>              }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// support for other well known properties in browsers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>browserLanguagePropertyKeys</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>language</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>nav</span>[<span style=color:#a6e22e>browserLanguagePropertyKeys</span>[<span style=color:#a6e22e>i</span>]]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>language</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>language</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>language</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;en&#39;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>preferLang</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getFirstBrowserLanguage</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>preferLang</span>.<span style=color:#a6e22e>indexOf</span>(<span style=color:#e6db74>&#39;fr&#39;</span>) <span style=color:#f92672>!==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>          <span style=color:#75715e>// browser in french
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          window.<span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#39;/fr/&#39;</span>)
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>          <span style=color:#75715e>// fallback to English
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          window.<span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#39;/en/&#39;</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      })()
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>h1</span>&gt;Rerouting&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>p</span>&gt;You should be rerouted in a jiff, if not, &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .Permalink }}&#34;</span>&gt;click here&lt;/<span style=color:#f92672>a</span>&gt;.&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><p>Thanks to <a href=https://twitter.com/nanmu42>nanmu42</a> for sharing this tip!</p><h2 id=final-words>Final words</h2><p>It&rsquo;s not so hard to make a multilingual site with Hugo.
The hardest part will be to do all the translations :)</p><ul class=pa0><li class=list><a href=/en/tags/hugo class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Hugo</a></li><li class=list><a href=/en/tags/multilingual class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Multilingual</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Table of content</p><nav id=TableOfContents><ul><li><a href=#configuration>Configuration</a></li><li><a href=#translation-location>Translation location</a></li><li><a href=#urls-translation>URLs translation</a></li><li><a href=#html-lang-attribute>HTML <code>lang</code> attribute</a></li><li><a href=#automatically-redirect-to-the-right-language>Automatically redirect to the right language</a></li><li><a href=#final-words>Final words</a></li></ul></nav></div><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/en/post/2021-04-11-create-a-blog-with-hugo/>Create a blog with Hugo</a></li></ul></div></aside></article></main><footer class="bg-dark-gray bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://blog.deraco.fr/>&copy; Stéphane's Blog
2021-2022</a><div><a class="f8 fw4 hover-white no-underline white-40 dn dib-ns pv2 ph3" rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>Content license:<img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png></a>
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=/en/credits>Credits</a>
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=/en/terms>Terms</a></div><div><a href=https://twitter.com/stephane_deraco target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://www.linkedin.com/in/st%C3%A9phane-deraco-964640194/ target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/stephane-deraco target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://blog.deraco.fr/en/index.xml target=_blank class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="RSS link" rel=noopener aria-label="RSS——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer></body></html>