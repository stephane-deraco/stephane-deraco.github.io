<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Create a blog with Hugo | Stéphane's Blog</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Unsurprisingly, the first post of this blog explains how it is built and hosted.
Blog engine choice This blog is static, meaning it does not need a content management system such as Wordpress, Drupal or others.
On the contrary, all pages are generated upstream in HTML/CSS/JS, and are served statically. The tool that does all that (and more) is Hugo.
Hugo takes in input Markdown files, and generates the corresponding HTML."><meta name=generator content="Hugo 0.84.1"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/ananke/css/main.min.8ca51ad9680f6f5bb4adc9140a88775d0b6638471cd8aa5fc091c9e308bdacdd.css><meta property="og:title" content="Create a blog with Hugo"><meta property="og:description" content="Unsurprisingly, the first post of this blog explains how it is built and hosted.
Blog engine choice This blog is static, meaning it does not need a content management system such as Wordpress, Drupal or others.
On the contrary, all pages are generated upstream in HTML/CSS/JS, and are served statically. The tool that does all that (and more) is Hugo.
Hugo takes in input Markdown files, and generates the corresponding HTML."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.deraco.fr/en/post/2021-04-11-create-a-blog-with-hugo/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-04-10T14:54:31+02:00"><meta property="article:modified_time" content="2021-04-10T14:54:31+02:00"><meta property="og:site_name" content="Stéphane's Blog"><meta itemprop=name content="Create a blog with Hugo"><meta itemprop=description content="Unsurprisingly, the first post of this blog explains how it is built and hosted.
Blog engine choice This blog is static, meaning it does not need a content management system such as Wordpress, Drupal or others.
On the contrary, all pages are generated upstream in HTML/CSS/JS, and are served statically. The tool that does all that (and more) is Hugo.
Hugo takes in input Markdown files, and generates the corresponding HTML."><meta itemprop=datePublished content="2021-04-10T14:54:31+02:00"><meta itemprop=dateModified content="2021-04-10T14:54:31+02:00"><meta itemprop=wordCount content="1346"><meta itemprop=keywords content="Hugo,Github Pages,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Create a blog with Hugo"><meta name=twitter:description content="Unsurprisingly, the first post of this blog explains how it is built and hosted.
Blog engine choice This blog is static, meaning it does not need a content management system such as Wordpress, Drupal or others.
On the contrary, all pages are generated upstream in HTML/CSS/JS, and are served statically. The tool that does all that (and more) is Hugo.
Hugo takes in input Markdown files, and generates the corresponding HTML."></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-dark-gray><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/en/ class="f3 fw2 hover-white no-underline white-90 dib">Stéphane's Blog</a><div class="flex-l items-center"><h4></h4><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/fr/post/2021-04-11-creation-blog-avec-hugo/>fr</a></li></ul><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/en/tags title=Tags>Tags</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/en/about/ title="About page">About</a></li></ul><a href=https://twitter.com/stephane_deraco target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://www.linkedin.com/in/st%C3%A9phane-deraco-964640194/ target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/stephane-deraco target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://blog.deraco.fr/en/index.xml target=_blank class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="RSS link" rel=noopener aria-label="RSS——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://blog.deraco.fr/en/post/2021-04-11-create-a-blog-with-hugo/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://blog.deraco.fr/en/post/2021-04-11-create-a-blog-with-hugo/&text=Create%20a%20blog%20with%20Hugo" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://blog.deraco.fr/en/post/2021-04-11-create-a-blog-with-hugo/&title=Create%20a%20blog%20with%20Hugo" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Create a blog with Hugo</h1><time class="f6 mv4 dib tracked" datetime=2021-04-10T14:54:31+02:00>2021-04-10</time>
<span class="f6 mv4 dib tracked">- 7 minutes read</span>
<span class="f6 mv4 dib tracked">- 1346 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Unsurprisingly, the first post of this blog explains how it is built and hosted.</p><h2 id=blog-engine-choice>Blog engine choice</h2><p>This blog is static, meaning it does not need a content management system such as Wordpress, Drupal or others.</p><p>On the contrary, all pages are generated upstream in HTML/CSS/JS, and are served statically.
The tool that does all that (and more) is <a href=https://gohugo.io>Hugo</a>.</p><p>Hugo takes in input Markdown files, and generates the corresponding HTML.
There are many extensions that can add more functionality.</p><h2 id=set-up>Set up</h2><p>We first have to download and install Hugo by following the <a href=https://gohugo.io/getting-started/installing/>official instructions</a>.</p><p>Then type the following command to create a new site:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hugo new site blog
</code></pre></div><p>In order to add a theme, we will use a git <em>submodule</em>.
For that, we have to initialize the git workspace and add the theme with these commands:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd blog
git init
git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
</code></pre></div><p>Here, we use the default theme, but there are <a href=https://themes.gohugo.io/>many others</a>.</p><p>Once the theme has been added, we must reference it in the configuration file <code>config.toml</code>.
Note that Hugo also support <em>YAML</em> for this file, and that&rsquo;s what we&rsquo;ll use here:</p><p><em>config.yaml</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>baseURL</span>: <span style=color:#ae81ff>http://example.org/</span>
<span style=color:#f92672>languageCode</span>: <span style=color:#ae81ff>fr-fr</span>
<span style=color:#f92672>title</span>: <span style=color:#ae81ff>Blog de Stéphane</span>
<span style=color:#f92672>theme</span>: <span style=color:#ae81ff>ananke</span>
</code></pre></div><h3 id=theme-configuration>Theme configuration</h3><p>Each theme has its own configuration and customization.</p><p>For exemple, for this theme, we can add the following parameters:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>params</span>:
  <span style=color:#f92672>show_reading_time</span>: <span style=color:#66d9ef>true</span>
  <span style=color:#f92672>twitter</span>: <span style=color:#ae81ff>https://twitter.com/stephane_deraco</span>
  <span style=color:#f92672>github</span>: <span style=color:#ae81ff>https://github.com/stephane-deraco</span>
</code></pre></div><p>We can customize a lot more things like visual aspect (background color, images, &mldr;) and even use a custom CSS.</p><h3 id=create-a-new-blog-entry>Create a new blog entry</h3><p>To create a new blog post, simply type the following command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hugo new posts/2021-04-11-creation-blog-avec-hugo.md
</code></pre></div><p>A new file will be created in the directory <code>content/posts</code>.
By default, this post is in <em>draft</em> mode (<code>draft: true</code> in the file header).
That means that this specific post will not been generated by Hugo when we will build the site.
However, it is still possible to view this post locally using this command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hugo server -D
</code></pre></div><ul><li><code>hugo server</code> tells Hugo to build pages (locally), to launch a web server and to check modifications made on files in order to rebuild pages on the fly.
The brower is then refreshed automatically thanks to a <em>live reload</em> feature.</li><li>the <code>-D</code> flag is here to tell Hugo to also build <em>draft</em> pages.</li></ul><h2 id=hosting>Hosting</h2><p>The site will only contains static files, so any hosting will do the job.</p><p>Here, I use the Github Pages functionnality to host this site.</p><h3 id=build-the-site>Build the site</h3><p>The first step is to build the site with this command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>HUGO_ENV<span style=color:#f92672>=</span>production hugo
</code></pre></div><p>All files that will form the final site are generated in the <code>public</code> directory.</p><blockquote><p><strong>Note</strong>: <code>hugo env</code> should be sufficient but the theme documentation indicates that we need to set the <code>HUGO_ENV</code> variable to <code>production</code>.</p></blockquote><blockquote><p><strong>Note</strong>: Do not forget to remove the <code>draft</code> flag of pages that you want to publish!</p></blockquote><blockquote><p><strong>Note</strong>: In the <code>config.yaml</code> file, the value of <code>baseURL</code> will be used for links, in particular from the landing page to post pages.
By default the value is <code>example.org</code>. You need to modifiy this value with where the site will be hosted.
However, in order to test the site locally, we can use the command <code>hugo -b http://localhost:8000/</code>, go in the <code>public</code> directory, and launch a web server with <code>python3 -m http.server</code>.</p></blockquote><h3 id=publish-the-site>Publish the site</h3><p>The site will be hosted with <a href=https://guides.github.com/features/pages/>Github <em>Pages</em></a>.
We have to create a new Github repository with the name <code>username.github.io</code>, <em>username</em> being the Github username.
This repository will contain the site content, that is the HTML/CSS/JS that Hugo will generate.</p><p><a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>Hugo documentation</a> explains the procedure.</p><blockquote><p><strong>Note</strong>: We can find several articles using a different solution based on git submodules, one for the source, and another for the generated files.
With <em>Github Actions</em>, as explained on Hugo web site, we can make it simpler.</p></blockquote><p>We also have to create the repository that will contain source code of web site.
Eventually, two repositories are required:</p><ul><li><a href=https://github.com/stephane-deraco/blog.git>https://github.com/stephane-deraco/blog.git</a> for blog source code</li><li><a href=https://github.com/stephane-deraco/stephane-deraco.github.io.git>https://github.com/stephane-deraco/stephane-deraco.github.io.git</a> for web site static files generated by Hugo</li></ul><p>Github Actions will generate and publish the site.
As described in the documentation, we need to create this file:</p><p><em>.github/workflows/gh-pages.yml</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>name</span>: <span style=color:#ae81ff>github pages</span>

<span style=color:#f92672>on</span>:
  <span style=color:#f92672>push</span>:
    <span style=color:#f92672>branches</span>:
      - <span style=color:#ae81ff>main </span> <span style=color:#75715e># Set a branch to deploy</span>
  <span style=color:#f92672>pull_request</span>:

<span style=color:#f92672>jobs</span>:
  <span style=color:#f92672>deploy</span>:
    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-20.04</span>
    <span style=color:#f92672>steps</span>:
      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
        <span style=color:#f92672>with</span>:
          <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>  <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>    <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>

      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
        <span style=color:#f92672>with</span>:
          <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;latest&#39;</span>
          <span style=color:#75715e># extended: true</span>

      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
        <span style=color:#f92672>env</span>:
          <span style=color:#f92672>HUGO_ENV</span>: <span style=color:#ae81ff>production</span>

      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>github.ref == &#39;refs/heads/main&#39;</span>
        <span style=color:#f92672>with</span>:
          <span style=color:#f92672>deploy_key</span>: <span style=color:#ae81ff>${{ secrets.ACTIONS_DEPLOY_KEY }}</span>
          <span style=color:#f92672>external_repository</span>: <span style=color:#ae81ff>stephane-deraco/stephane-deraco.github.io</span>
          <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>main</span>
          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</code></pre></div><p>The only difference with the Hugo documentation is that we tell Github Actions to push the generated files on another repository (<code>external_repository</code>), as explained on the <a href=https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-deploy-to-external-repository-external_repository>site of Github Action <code>peaceiris/actions-gh-pages</code></a>.</p><p>As Github needs to interact with another repository, we must create a <a href=https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-create-ssh-deploy-key>deploy SSH key</a>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -C <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>git config user.email<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> -f gh-pages -N <span style=color:#e6db74>&#34;&#34;</span>
</code></pre></div><p>Then navigate to the Github repository that will contain the generated files (<code>stephane-deraco.github.io</code>) > <em>Settings</em> > <em>Deploy keys</em>, click on the <em>Add deploy key</em> button and copy the <strong>public</strong> key (the content of the <code>gh-pages.pub</code> file generated by the previous command), and check the <em>Allow write access</em> checkbox.</p><p>Now navigate to the Github repository that contains the source code in Markdown (<code>blog</code>) > <em>Secrets</em> and add the <strong>private</strong> key (the content of the <code>gh-pages</code> file) by clicking on the <em>New repository secret</em> button.
Use the <code>ACTIONS_DEPLOY_KEY</code> as the name (it must match with what we put in the Github Action).</p><p>We can now do a commit & push on the <code>blog</code> repository:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git add .
git commit -m <span style=color:#e6db74>&#34;First blog post&#34;</span>
git remote add origin https://github.com/stephane-deraco/blog.git
git branch -M main
git push -u origin main
</code></pre></div><p>The Github Action will be triggered, and soon the repository for the generated files will be updated with what Hugo has built.</p><h3 id=use-a-personal-domain>Use a personal domain</h3><p>So far, the web site is already available on <a href=https://stephane-deraco.github.io/!>https://stephane-deraco.github.io/!</a></p><p>We can use a personal domain (like <a href=https://blog.deraco.fr>https://blog.deraco.fr</a>), everything is explained in <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/#use-a-custom-domain>the Hugo documentation</a>.</p><h4 id=hugo-configuration>Hugo configuration</h4><p>We need to create the <code>static/CNAME</code> file with the personal domain in content:</p><p><em>static/CNAME</em></p><pre><code>blog.deraco.fr
</code></pre><h4 id=github-configuration>Github configuration</h4><p>On the Github side, <a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-a-subdomain>the documentation</a> states that we have to configure the domain in the <em>Settings</em> > <em>Pages</em> page of the repository containing the static resources (here, <code>stephane-deraco.github.io</code>).</p><p>Then fill in the domain (<code>blog.deraco.fr</code>) in <em>Custom domain</em> and save.</p><h4 id=registar-configuration>Registar configuration</h4><p>We have to prove to Github that we actually own the personal domain in question, and configure the DNS.
A way to do that is to add a <code>CNAME</code> record in the console of our registar.</p><p>I use <a href=https://www.gandi.net/>Gandi</a>, and this is done by connecting to the console, then in the <em>Domains</em> page click on <em>Add DNS record</em>.
Two parameters are important:</p><ul><li>Name : <code>blog.deraco.fr</code></li><li>Hostname : <code>stephane.deraco.github.io.</code> (<strong>Do not forget the final dot!</strong>)</li></ul><p>Now, all we have to do is to wait for the DNS propagation.</p><h4 id=https>HTTPS</h4><p>As the web site is hosted on Github, the certificate sent by the site will not match the personal domain we have just configured, and the brower will display on error like this one:</p><blockquote><p>Websites guarantee their identity through certificates. Firefox does not consider this site reliable as it uses a certificate that is not valid for blog.deraco.fr. The certificate is valid only for the following names: <a href=http://www.github.com>www.github.com</a>, *.github.com, github.com, *.github.io, github.io, *.githubusercontent.com, githubusercontent.com</p><p>Error code: SSL_ERROR_BAD_CERT_DOMAIN</p></blockquote><p>If you regularly refresh the Github page of the site (<em>Settings</em> > <em>Pages</em>), you will see the personal domain verification status, and also that a certificate is being generated.
Just be patient!</p><h4 id=configyaml-modification><code>config.yaml</code> modification</h4><p>As the site is on another URL now, we have to modify the <code>baseURL</code> parameter of the <code>config.yaml</code> file in order to use the personal domain.</p><h2 id=conclusion>Conclusion</h2><p>We now have a blog site with its own domain, hosted by Github Pages (that has also generated a certificate).
Its content is static, is generated by Github Action when commits on the source code of the site are pushed, and is generated by Hugo based on Markdown files.</p><ul class=pa0><li class=list><a href=/en/tags/hugo class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Hugo</a></li><li class=list><a href=/en/tags/github-pages class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Github Pages</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Table of content</p><nav id=TableOfContents><ul><li><a href=#blog-engine-choice>Blog engine choice</a></li><li><a href=#set-up>Set up</a><ul><li><a href=#theme-configuration>Theme configuration</a></li><li><a href=#create-a-new-blog-entry>Create a new blog entry</a></li></ul></li><li><a href=#hosting>Hosting</a><ul><li><a href=#build-the-site>Build the site</a></li><li><a href=#publish-the-site>Publish the site</a></li><li><a href=#use-a-personal-domain>Use a personal domain</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></aside></article></main><footer class="bg-dark-gray bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://blog.deraco.fr/>&copy; Stéphane's Blog
2021</a><div><a class="f8 fw4 hover-white no-underline white-40 dn dib-ns pv2 ph3" rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>Content license:<img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png></a>
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=/en/credits>Credits</a>
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=/en/terms>Terms</a></div><div><a href=https://twitter.com/stephane_deraco target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://www.linkedin.com/in/st%C3%A9phane-deraco-964640194/ target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/stephane-deraco target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://blog.deraco.fr/en/index.xml target=_blank class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="RSS link" rel=noopener aria-label="RSS——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer></body></html>